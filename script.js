const translations = {
  en: {
    brand_tagline: "NFC Cards Company",
    nav_home: "Home",
    nav_features: "Features",
    nav_products: "Products",
    nav_how: "How it works",
    nav_contact: "Contact",

    hero_pill: "One tap. Instant connection.",
    hero_title: "Premium NFC Cards for Modern Businesses",
    hero_desc: "Share your WhatsApp, Instagram, website, location, and contact details — with a single tap. No app needed.",
    hero_btn1: "View Packages",
    hero_btn2: "Get a Quote",

    stat_1_big: "No App",
    stat_1_small: "Works instantly",
    stat_2_big: "Custom",
    stat_2_small: "Your logo & colors",
    stat_3_big: "Fast",
    stat_3_small: "Quick delivery",

    card_title: "Mo Tech NFC",
    card_sub: "Tap • Connect • Impress",
    card_made: "Made in Egypt",

    trust_1_badge: "Quality",
    trust_1_text: "Premium materials",
    trust_2_badge: "Delivery",
    trust_2_text: "Shipping inside Egypt",
    trust_3_badge: "Support",
    trust_3_text: "Setup assistance",

    strip_title: "Ready to upgrade your first impression?",
    strip_desc: "Choose your card color and start sharing instantly.",
    strip_btn: "See Prices",

    footer_desc: "NFC cards for businesses & creators.",

    // Features page
    features_page_title: "Features",
    features_page_desc: "Everything you need to look professional, share fast, and convert more customers.",
    feat_1_title: "No App Required",
    feat_1_desc: "Works instantly on modern Android and iPhone devices.",
    feat_2_title: "Custom Branding",
    feat_2_desc: "Your logo, colors, and clean professional layout.",
    feat_3_title: "One Tap Profile",
    feat_3_desc: "Links to WhatsApp, Instagram, website, maps, and more.",
    feat_4_title: "Durable Quality",
    feat_4_desc: "Premium card material with strong printing.",
    feat_5_title: "Fast Delivery",
    feat_5_desc: "Quick production and shipping inside Egypt.",
    feat_6_title: "Support",
    feat_6_desc: "We help you set up your profile and links.",
    features_cta_title: "Want to see the packages?",
    features_cta_desc: "Only two options — black or white. Simple and clean.",
    features_cta_btn: "Go to Products",

    // Products page
    products_page_title: "Products & Prices",
    products_page_desc: "Only two packages. Pick your color and you’re ready.",
    prod_black_title: "Black NFC Card",
    prod_white_title: "White NFC Card",
    prod_black_price: "200 EGP",
    prod_white_price: "150 EGP",
    prod_common_1: "One-tap sharing",
    prod_common_2: "Custom name / brand",
    prod_common_3: "Setup support",
    prod_order_btn: "Order Now",
    products_note: "Note: Prices are in EGP. Delivery cost depends on location.",

    // How page
    how_page_title: "How It Works",
    how_page_desc: "From order to first tap — simple steps.",
    how_1_title: "Choose Your Card",
    how_1_desc: "Black (200 EGP) or White (150 EGP).",
    how_2_title: "Send Your Info",
    how_2_desc: "Your name, logo (optional), and links (WhatsApp / Instagram / website).",
    how_3_title: "We Set It Up",
    how_3_desc: "We prepare your tap profile and confirm it with you.",
    how_4_title: "Tap & Share",
    how_4_desc: "Just tap the card on a phone — done.",
    how_cta_title: "Want to order now?",
    how_cta_desc: "Contact us and we’ll guide you through everything.",
    how_cta_btn: "Contact Mo Tech",

    // Contact page
    contact_page_title: "Contact Mo Tech",
    contact_page_desc: "Send your details and we’ll reply with confirmation and delivery info.",
    c_name: "Full Name",
    c_name_ph: "John Doe",
    c_phone: "Phone / WhatsApp",
    c_phone_ph: "+20...",
    c_package: "Package",
    c_pkg_black: "Black — 200 EGP",
    c_pkg_white: "White — 150 EGP",
    c_links: "Your links (optional)",
    c_links_ph: "WhatsApp, Instagram, Website...",
    c_send: "Send",
    c_note: "Fill this form to send your quote.",
    contact_info_title: "Quick Info",
    contact_info_desc: "You can connect this page to WhatsApp or email in 2 minutes.",
    contact_info_k1: "Delivery:",
    contact_info_v1: "Inside Egypt",
    contact_info_k2: "Support:",
    contact_info_v2: "Setup assistance",
    contact_info_k3: "Payments:",
    contact_info_v3: "Cash / Transfer"
  },

  ar: {
    brand_tagline: "شركة كروت NFC",
    nav_home: "الرئيسية",
    nav_features: "المميزات",
    nav_products: "المنتجات",
    nav_how: "طريقة الاستخدام",
    nav_contact: "تواصل معنا",

    hero_pill: "لمسة واحدة. اتصال فوري.",
    hero_title: "كروت NFC احترافية للأعمال الحديثة",
    hero_desc: "شارك واتساب، إنستجرام، موقعك، موقعك على الخريطة وبياناتك — بلمسة واحدة. بدون تطبيق.",
    hero_btn1: "عرض الباقات",
    hero_btn2: "اطلب عرض سعر",

    stat_1_big: "بدون App",
    stat_1_small: "يشتغل فورًا",
    stat_2_big: "تخصيص",
    stat_2_small: "لوجو وألوانك",
    stat_3_big: "سريع",
    stat_3_small: "تسليم سريع",

    card_title: "Mo Tech NFC",
    card_sub: "Tap • Connect • Impress",
    card_made: "صنع في مصر",

    trust_1_badge: "جودة",
    trust_1_text: "خامات ممتازة",
    trust_2_badge: "تسليم",
    trust_2_text: "شحن داخل مصر",
    trust_3_badge: "دعم",
    trust_3_text: "مساعدة في الإعداد",

    strip_title: "جاهز ترفع الانطباع الأول؟",
    strip_desc: "اختار لون الكارت وابدأ مشاركة روابطك فورًا.",
    strip_btn: "شوف الأسعار",

    footer_desc: "كروت NFC للأعمال وصنّاع المحتوى.",

    // Features page
    features_page_title: "المميزات",
    features_page_desc: "كل اللي تحتاجه عشان تبان احترافي، تشارك أسرع، وتحول عملاء أكتر.",
    feat_1_title: "بدون تطبيق",
    feat_1_desc: "يعمل فورًا على أجهزة أندرويد وآيفون الحديثة.",
    feat_2_title: "تخصيص كامل",
    feat_2_desc: "لوجو شركتك، ألوانك، وتنسيق نظيف واحترافي.",
    feat_3_title: "بروفايل بلمسة",
    feat_3_desc: "روابط واتساب، إنستجرام، موقع، خرائط… وغيرها.",
    feat_4_title: "جودة وخامة قوية",
    feat_4_desc: "خامة كارت ممتازة وطباعة قوية.",
    feat_5_title: "تسليم سريع",
    feat_5_desc: "تجهيز وشحن بسرعة داخل مصر.",
    feat_6_title: "دعم فني",
    feat_6_desc: "بنساعدك في إعداد البروفايل والروابط.",
    features_cta_title: "تحب تشوف الباقات؟",
    features_cta_desc: "باقتين فقط — أسود أو أبيض. بسيط ونضيف.",
    features_cta_btn: "اذهب للمنتجات",

    // Products page
    products_page_title: "المنتجات والأسعار",
    products_page_desc: "باقتين فقط. اختار اللون وخلاص.",
    prod_black_title: "كارت NFC أسود",
    prod_white_title: "كارت NFC أبيض",
    prod_black_price: "٢٠٠ جنيه",
    prod_white_price: "١٥٠ جنيه",
    prod_common_1: "مشاركة بلمسة واحدة",
    prod_common_2: "اسم/براند مخصص",
    prod_common_3: "دعم في الإعداد",
    prod_order_btn: "اطلب الآن",
    products_note: "ملحوظة: الأسعار بالجنيه المصري. الشحن حسب المكان.",

    // How page
    how_page_title: "طريقة الاستخدام",
    how_page_desc: "من الطلب لأول لمسة — خطوات بسيطة.",
    how_1_title: "اختار الكارت",
    how_1_desc: "أسود (٢٠٠ جنيه) أو أبيض (١٥٠ جنيه).",
    how_2_title: "ابعت بياناتك",
    how_2_desc: "اسمك، لوجو (اختياري)، وروابطك (واتساب/إنستجرام/موقع).",
    how_3_title: "إعداد وتجهيز",
    how_3_desc: "بنجهز البروفايل ونأكد معاك قبل التسليم.",
    how_4_title: "لمسة ومشاركة",
    how_4_desc: "بس قرّب الكارت من الموبايل — وخلاص.",
    how_cta_title: "جاهز تطلب؟",
    how_cta_desc: "تواصل معانا وهنمشي معاك خطوة بخطوة.",
    how_cta_btn: "تواصل مع Mo Tech",

    // Contact page
    contact_page_title: "تواصل مع Mo Tech",
    contact_page_desc: "ابعت بياناتك وهنرد عليك بالتأكيد والتسليم.",
    c_name: "الاسم بالكامل",
    c_name_ph: "مصطفى",
    c_phone: "رقم / واتساب",
    c_phone_ph: "+20...",
    c_package: "الباقة",
    c_pkg_black: "أسود — ٢٠٠ جنيه",
    c_pkg_white: "أبيض — ١٥٠ جنيه",
    c_links: "روابطك (اختياري)",
    c_links_ph: "واتساب، إنستجرام، موقع...",
    c_send: "إرسال",
    c_note: "املأ النموذج لإرسال طلب عرض سعر.",
    contact_info_title: "معلومات سريعة",
    contact_info_desc: "تقدر تربط الصفحة بواتساب أو إيميل في دقيقتين.",
    contact_info_k1: "التسليم:",
    contact_info_v1: "داخل مصر",
    contact_info_k2: "الدعم:",
    contact_info_v2: "مساعدة في الإعداد",
    contact_info_k3: "الدفع:",
    contact_info_v3: "كاش / تحويل"
  }
};

function applyLang(lang){
  document.documentElement.lang = lang;
  document.documentElement.dir = (lang === "ar") ? "rtl" : "ltr";

  const btn = document.getElementById("langBtn");
  if(btn) btn.innerText = (lang === "ar") ? "EN" : "AR";

  document.querySelectorAll("[data-i18n]").forEach(el=>{
    const key = el.getAttribute("data-i18n");
    const value = translations[lang]?.[key];
    if(value != null) el.innerText = value;
  });

  document.querySelectorAll("[data-i18n-ph]").forEach(el=>{
    const key = el.getAttribute("data-i18n-ph");
    const value = translations[lang]?.[key];
    if(value != null) el.setAttribute("placeholder", value);
  });

  localStorage.setItem("lang", lang);
}

(function init(){
  const year = document.getElementById("year");
  if(year) year.textContent = new Date().getFullYear();

  // Mobile menu
  const burger = document.getElementById("burger");
  const nav = document.getElementById("nav");
  if(burger && nav){
    burger.addEventListener("click", ()=>{
      const open = nav.classList.toggle("open");
      burger.setAttribute("aria-expanded", open ? "true" : "false");
    });
  }

  // 3D card tilt (home)
  const card = document.getElementById("card3d");
  if(card){
    card.addEventListener("mousemove", (e)=>{
      const r = card.getBoundingClientRect();
      const x = (e.clientX - r.left) / r.width - 0.5;
      const y = (e.clientY - r.top) / r.height - 0.5;
      card.style.transform = `rotateY(${x*12}deg) rotateX(${y*-10}deg)`;
    });
    card.addEventListener("mouseleave", ()=>{ card.style.transform = "rotateY(0deg) rotateX(0deg)"; });
  }

  // Language
  const saved = localStorage.getItem("lang") || "en";
  applyLang(saved);

  const langBtn = document.getElementById("langBtn");
  if(langBtn){
    langBtn.addEventListener("click", ()=>{
      const next = (document.documentElement.lang === "en") ? "ar" : "en";
      applyLang(next);
    });
  }
})();
// ====== Mo Tech WhatsApp Order Form ======
// ====== Mo Tech WhatsApp Order Form (FIXED) ======
const MO_TECH_WHATSAPP = "201223578115"; // <-- put your real number here (no +)

function buildOrderMessageFixed() {
  const lang = document.documentElement.lang || "en";
  const name = (document.getElementById("fullName")?.value || "").trim();
  const phone = (document.getElementById("phone")?.value || "").trim();
  const pkg = document.getElementById("pkg")?.value || "";
  const links = (document.getElementById("links")?.value || "").trim();

  if (lang === "ar") {
    return `طلب جديد - Mo Tech
----------------
الاسم: ${name}
رقم/واتساب العميل: ${phone}
الباقة: ${pkg}
الروابط: ${links || "لا يوجد"}

من فضلك أكد الطلب وبيانات الشحن.`;
  }

  return `New Order - Mo Tech
-------------------
Name: ${name}
Customer Phone/WhatsApp: ${phone}
Package: ${pkg}
Links: ${links || "N/A"}

Please confirm the order and delivery details.`;
}

document.addEventListener("DOMContentLoaded", () => {
  const form = document.getElementById("orderForm");
  if (!form) {
    console.error("orderForm not found. Make sure contact.html has id='orderForm'.");
    return;
  }

  form.addEventListener("submit", (e) => {
    e.preventDefault();

    const name = (document.getElementById("fullName")?.value || "").trim();
    const phone = (document.getElementById("phone")?.value || "").trim();

    if (!name || !phone) {
      alert((document.documentElement.lang === "ar")
        ? "من فضلك اكتب الاسم ورقم الواتساب."
        : "Please enter your name and phone/WhatsApp.");
      return;
    }

    if (!MO_TECH_WHATSAPP || MO_TECH_WHATSAPP.includes("+")) {
      alert("Fix MO_TECH_WHATSAPP number (international format without +).");
      return;
    }

    const msg = encodeURIComponent(buildOrderMessageFixed());
    const url = `https://wa.me/${MO_TECH_WHATSAPP}?text=${msg}`;

    // iOS-friendly: open in same tab
    window.location.href = url;

    const note = document.getElementById("formNote");
    if (note) {
      note.removeAttribute("data-i18n"); // عشان الترجمة متغيروش تاني
      note.textContent = (document.documentElement.lang === "ar")
        ? "هتتفتح واتساب برسالة الطلب… ابعتها لتأكيد الطلب ✅"
        : "WhatsApp will open with your order message… send it to confirm ✅";
    }
  });
});
